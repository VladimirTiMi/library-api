# Library API

`Library API` ‚Äî —ç—Ç–æ RESTful API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–Ω–∏–≥–∞–º–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ. –° –µ–≥–æ –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å, —É–¥–∞–ª—è—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å, –∞ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –∫–Ω–∏–≥ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º. –ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ Spring Boot —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º JPA –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

---

## üìã **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**
### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫:
- **Java 17**  
- **Spring Boot 3.4.4**
  - Spring Boot Data JPA
  - Spring Boot Web
- **PostgreSQL**  

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- **Gradle**  
- **Lombok**  
- **Jakarta Validation API**

---

## üöÄ **–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç**

### **1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:**
- Java 17
- PostgreSQL
- Gradle

---

### **2. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone <URL>
cd <project-folder>
```

---

### **3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**

1. –í PostgreSQL —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```sql
CREATE DATABASE library_db;
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `application.properties` –∏ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```properties
spring.datasource.url=jdbc:postgresql://localhost:5432/library_db
spring.datasource.username=your_username
spring.datasource.password=your_password
```

---

### **4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç**
–î–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
./gradlew bootRun
```
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ `http://localhost:8080`.

---

## üìñ **REST API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

### 1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏**
**POST** `/api/books`  
–î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –∫–Ω–∏–≥—É –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É.

- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (`JSON`):**
```json
{
  "title": "The Great Gatsby",
  "author": "F. Scott Fitzgerald",
  "genre": "Classic",
  "year": 1925
}
```
- **–û—Ç–≤–µ—Ç:**
  - **200 OK:** –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞.
  - **400 Bad Request:** –í–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞.

---

### 2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–Ω–∏–≥**
**GET** `/api/books`  
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–Ω–∏–≥ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ.

- **–û—Ç–≤–µ—Ç:**
  - **200 OK:** –°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥.

---

### 3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –ø–æ ID**
**GET** `/api/books/{id}`  
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–Ω–∏–≥—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `id`.

- **–û—Ç–≤–µ—Ç:**
  - **200 OK:** –ù–∞–π–¥–µ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞.
  - **404 Not Found:** –ö–Ω–∏–≥–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `id` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.

---

### 4. **–£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏**
**DELETE** `/api/books/{id}`  
–£–¥–∞–ª—è–µ—Ç –∫–Ω–∏–≥—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `id`.

- **–û—Ç–≤–µ—Ç:**
  - **200 OK:** –ö–Ω–∏–≥–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞.
  - **404 Not Found:** –ö–Ω–∏–≥–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `id` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.

---

### 5. **–ü–æ–∏—Å–∫ –∫–Ω–∏–≥**
**GET** `/api/books/search`  
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–¥–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º.  
–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `author` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∞–≤—Ç–æ—Ä–∞;
- `genre` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –∂–∞–Ω—Ä—É;
- `title` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é.

**–ü—Ä–∏–º–µ—Ä—ã:**
1. **–ü–æ–∏—Å–∫ –ø–æ –∞–≤—Ç–æ—Ä—É:**
```bash
GET /api/books/search?author=tolkien
```
2. **–ü–æ–∏—Å–∫ –ø–æ –∂–∞–Ω—Ä—É:**
```bash
GET /api/books/search?genre=fantasy
```
3. **–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é:**
```bash
GET /api/books/search?title=hobbit
```

- **–û—Ç–≤–µ—Ç:**
  - **200 OK:** –°–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–Ω–∏–≥.

---

## üóÇ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **Controller:**  
    - `BookController` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.
    
2. **Service:**  
    - `BookService` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–Ω–∏–≥–∞–º–∏.

3. **Repository:**  
    - `BookRepository` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

4. **Model:**  
    - `Book` ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—É—â–Ω–æ—Å—Ç—å –∫–Ω–∏–≥–∏.

5. **Exception:**  
    - `BookNotFoundException` ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–Ω–∏–≥–∏.

---

## ‚öôÔ∏è **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

### **1. –§–∞–π–ª `application.properties`**
–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ JPA.

**–ü—Ä–∏–º–µ—Ä:**
```properties
spring.datasource.url=jdbc:postgresql://localhost:5432/library_db
spring.datasource.username=postgres
spring.datasource.password=password
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
```

---
